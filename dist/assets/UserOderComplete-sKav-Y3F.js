import{_ as u}from"./icon-t1Ce2sCx.js";import{_ as p,c as l,b as m,w as g,d as t,F as c,z as f,A as b,t as a,r as y,o as n}from"./index-MOHmFcjI.js";var x={VITE_URL:"https://vue3-course-api.hexschool.io/v2",VITE_PATH:"peggy123",VITE_TEXT:"這是部署的環境",BASE_URL:"/Raiko/",MODE:"production",DEV:!1,PROD:!0,SSR:!1};const{VITE_URL:i,VITE_PATH:_}=x,v={data(){return{orderId:"",user:{},productsData:[],total:0,isLoading:!0}},methods:{showUserData(){const d=`${i}/api/${_}/order/${this.orderId}`;this.$http.get(d).then(s=>{this.user=s.data.order.user,this.productsData=s.data.order.products,this.total=s.data.order.total}).catch(s=>{alert(s.response.data.message)}).finally(()=>{this.isLoading=!1})},payBtn(){const d=`${i}/api/${_}/pay/${this.orderId}`;this.$http.post(d).then(()=>{this.$router.push("paid_complete")}).catch(s=>{alert(s.response.data.message)}).finally(()=>{this.isLoading=!1})}},mounted(){this.orderId=localStorage.getItem("orderId"),this.showUserData()}},E=t("div",{class:"loading-img-bg"},[t("img",{class:"loading-img",src:u,alt:""})],-1),I={class:"container my-35"},L=t("h2",{class:"h4 text-center mb-10"},"已完成訂購！",-1),V={class:"row justify-content-center"},D={class:"col-lg-5"},T=t("h2",{class:"h5 mb-5"},"購買商品",-1),w={class:"table align-middle table-light p-5"},B=t("thead",null,[t("tr",null,[t("th",{class:"thead-text"},"商品"),t("th",{class:"text-center thead-text"},"數量"),t("th",{class:"text-end thead-text"},"小計")])],-1),U={height:"100"},k=["src","alt"],R={class:"text-center"},S={class:"text-end fs-14"},C={class:"col-lg-5"},A=t("h2",{class:"h5 mb-5"},"顧客資料",-1),N={class:"table table-light mb-10 mb-md-5 table-borderless"},$={class:"fs-14"},O=t("th",{class:"fw-normal",width:"100"},"姓名",-1),P={class:"fs-14"},q=t("td",null,"Email",-1),F={class:"fs-14"},H=t("td",null,"收件人手機",-1),j={class:"fs-14"},z=t("td",null,"收件人地址",-1),M=t("tr",{class:"fs-14"},[t("td",null,"付款狀態"),t("td",{class:"text-danger"},"尚未付款")],-1),X={class:"text-end"};function G(d,s,J,K,o,r){const h=y("VueLoading");return n(),l(c,null,[m(h,{active:o.isLoading},{default:g(()=>[E]),_:1},8,["active"]),t("div",I,[L,t("div",V,[t("div",D,[T,t("table",w,[B,t("tbody",null,[o.productsData?(n(!0),l(c,{key:0},f(o.productsData,e=>(n(),l("tr",{key:e.id},[t("td",U,[t("img",{src:e.product.imageUrl,alt:e.product.title,width:"50",class:"rounded-2 me-5"},null,8,k),t("span",null,a(e.product.title),1)]),t("td",R,a(e.qty),1),t("td",S,"NT."+a((e.product.price*e.qty).toLocaleString()),1)]))),128)):b("",!0)])])]),t("div",C,[A,t("table",N,[t("tbody",null,[t("tr",$,[O,t("td",null,a(o.user.name),1)]),t("tr",P,[q,t("td",null,a(o.user.email),1)]),t("tr",F,[H,t("td",null,a(o.user.tel),1)]),t("tr",j,[z,t("td",null,a(o.user.address),1)]),M])]),t("div",X,[t("button",{type:"button",class:"addcart-btn-hover w-50",onClick:s[0]||(s[0]=(...e)=>r.payBtn&&r.payBtn(...e))},"前往付款")])])])])],64)}const Y=p(v,[["render",G]]);export{Y as default};
